import{c as x,j as e,u as g,r as i,e as y,S as f,T as c,L as a,G as w}from"./index-XT8Jhcdm.js";import{L as v}from"./LoadingSpinner-Uyp5anb5.js";import{A as _}from"./alert-circle-6MBFcqH1.js";import{U as N}from"./users-CQSKWzxW.js";import{C as k}from"./calendar-OsdphSyK.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=x("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r=x("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=x("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),S=({title:t,message:n,icon:l})=>e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 mb-4 text-neutral-400",children:l||e.jsx(_,{size:64})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:t}),e.jsx("p",{className:"text-neutral-400 max-w-md",children:n})]}),T=()=>{const{user:t}=g(),[n,l]=i.useState(null),[p,m]=i.useState(!0);i.useEffect(()=>{document.title="Dashboard | Riyadh Elite",b()},[]);const b=async()=>{try{m(!0);const s=await y.getDashboardData();l(s)}catch(s){console.error("Error loading dashboard data:",s),l({user:t,tournaments:[],rewards:[],activity:[],stats:{totalTournaments:0,totalRewards:0,totalPoints:(t==null?void 0:t.points)||0}})}finally{m(!1)}};if(p)return e.jsx("div",{className:"min-h-screen py-32 bg-background flex items-center justify-center",children:e.jsx(v,{size:48})});if(!n)return e.jsx("div",{className:"min-h-screen py-32 bg-background",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx(S,{title:"Failed to load dashboard",message:"Please try refreshing the page"})})});const{tournaments:o,rewards:h,activity:j,stats:u}=n;return e.jsx("div",{className:"min-h-screen py-32 bg-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome back, ",e.jsx("span",{className:"gradient-text",children:t==null?void 0:t.name})]}),e.jsx("p",{className:"text-neutral-400",children:"Here's what's happening in your gaming journey"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-400 text-sm",children:"Points Balance"}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:(t==null?void 0:t.points)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"h-6 w-6 text-primary"})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-400 text-sm",children:"Tournaments Joined"}),e.jsx("p",{className:"text-2xl font-bold text-secondary",children:u.totalTournaments})]}),e.jsx("div",{className:"w-12 h-12 bg-secondary/20 rounded-full flex items-center justify-center",children:e.jsx(c,{className:"h-6 w-6 text-secondary"})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-400 text-sm",children:"Rewards Claimed"}),e.jsx("p",{className:"text-2xl font-bold text-accent",children:u.totalRewards})]}),e.jsx("div",{className:"w-12 h-12 bg-accent/20 rounded-full flex items-center justify-center",children:e.jsx(r,{className:"h-6 w-6 text-accent"})})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-neutral-400 text-sm",children:"Member Since"}),e.jsx("p",{className:"text-lg font-bold text-success",children:new Date((t==null?void 0:t.created_at)||"").toLocaleDateString("en-US",{month:"short",year:"numeric"})})]}),e.jsx("div",{className:"w-12 h-12 bg-success/20 rounded-full flex items-center justify-center",children:e.jsx(N,{className:"h-6 w-6 text-success"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(c,{className:"h-5 w-5 mr-2 text-secondary"}),"My Tournaments"]}),e.jsx(a,{to:"/tournaments",className:"text-secondary hover:text-secondary-light text-sm",children:"View All"})]}),o.length>0?e.jsx("div",{className:"space-y-4",children:o.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-background rounded-lg border border-neutral-800",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-200",children:s.tournament.title}),e.jsx("p",{className:"text-sm text-neutral-400",children:s.tournament.game}),e.jsxs("p",{className:"text-xs text-neutral-500 flex items-center mt-1",children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),new Date(s.tournament.start_date).toLocaleDateString()]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.status==="registered"?"bg-primary/20 text-primary":s.status==="active"?"bg-warning/20 text-warning":"bg-success/20 text-success"}`,children:s.status})})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(c,{className:"h-12 w-12 text-neutral-600 mx-auto mb-4"}),e.jsx("p",{className:"text-neutral-400 mb-4",children:"No tournaments joined yet"}),e.jsx(a,{to:"/tournaments",className:"btn btn-secondary btn-sm",children:"Browse Tournaments"})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(r,{className:"h-5 w-5 mr-2 text-accent"}),"My Rewards"]}),e.jsx(a,{to:"/rewards",className:"text-accent hover:text-accent-light text-sm",children:"View All"})]}),h.length>0?e.jsx("div",{className:"space-y-4",children:h.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-background rounded-lg border border-neutral-800",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-200",children:s.reward.title}),e.jsx("p",{className:"text-sm text-neutral-400",children:s.reward.category}),e.jsxs("p",{className:"text-xs text-neutral-500",children:["Claimed: ",new Date(s.claimed_at).toLocaleDateString()]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.status==="claimed"?"bg-warning/20 text-warning":s.status==="shipped"?"bg-primary/20 text-primary":"bg-success/20 text-success"}`,children:s.status})})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(r,{className:"h-12 w-12 text-neutral-600 mx-auto mb-4"}),e.jsx("p",{className:"text-neutral-400 mb-4",children:"No rewards claimed yet"}),e.jsx(a,{to:"/rewards",className:"btn btn-accent btn-sm",children:"Browse Rewards"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[e.jsx(d,{className:"h-5 w-5 mr-2 text-primary"}),"Recent Activity"]})}),j.length>0?e.jsx("div",{className:"space-y-4",children:j.map(s=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-background rounded-lg border border-neutral-800",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${s.activity_type==="tournament_join"?"bg-secondary/20 text-secondary":s.activity_type==="reward_claim"?"bg-accent/20 text-accent":s.activity_type==="points_earned"?"bg-success/20 text-success":"bg-primary/20 text-primary"}`,children:s.activity_type==="tournament_join"?e.jsx(c,{className:"h-4 w-4"}):s.activity_type==="reward_claim"?e.jsx(r,{className:"h-4 w-4"}):s.activity_type==="points_earned"?e.jsx(D,{className:"h-4 w-4"}):e.jsx(d,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-neutral-200",children:s.description}),e.jsx("p",{className:"text-xs text-neutral-500",children:new Date(s.created_at).toLocaleDateString()}),s.points_change!==0&&e.jsxs("p",{className:`text-xs font-semibold ${s.points_change>0?"text-success":"text-error"}`,children:[s.points_change>0?"+":"",s.points_change," points"]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(d,{className:"h-12 w-12 text-neutral-600 mx-auto mb-4"}),e.jsx("p",{className:"text-neutral-400",children:"No recent activity"})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(a,{to:"/tournaments",className:"card hover:border-secondary/50 transition-all duration-300 text-center",children:[e.jsx(c,{className:"h-8 w-8 text-secondary mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold",children:"Join Tournament"}),e.jsx("p",{className:"text-sm text-neutral-400",children:"Compete with others"})]}),e.jsxs(a,{to:"/rewards",className:"card hover:border-accent/50 transition-all duration-300 text-center",children:[e.jsx(r,{className:"h-8 w-8 text-accent mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold",children:"Claim Rewards"}),e.jsx("p",{className:"text-sm text-neutral-400",children:"Redeem your points"})]}),e.jsxs(a,{to:"/game-test",className:"card hover:border-success/50 transition-all duration-300 text-center",children:[e.jsx(w,{className:"h-8 w-8 text-success mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold",children:"Test Games"}),e.jsx("p",{className:"text-sm text-neutral-400",children:"Try new games"})]}),e.jsxs(a,{to:"/community",className:"card hover:border-primary/50 transition-all duration-300 text-center",children:[e.jsx(N,{className:"h-8 w-8 text-primary mx-auto mb-2"}),e.jsx("h3",{className:"font-semibold",children:"Community"}),e.jsx("p",{className:"text-sm text-neutral-400",children:"Connect with gamers"})]})]})]})]})})};export{T as default};
